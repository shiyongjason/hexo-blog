---
title: 数据解构
date: 2023-01-11 15:10:20
tags:
---
### [](#ES6—数据解构 "ES6—数据解构")ES6—数据解构

> 来同质化的代码 解构赋值表达式的值与表达式右侧(也就是=右侧)的值相等，如此一来，在任何可以使用值的地方都可以使用解构赋值表达式  
> –对应，有就有 没有就不存在

#### [](#对象解构 "对象解构")对象解构

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let  myObj = {</span><br><span class="line">    type:'name',</span><br><span class="line">    value:'yongge'</span><br><span class="line">}</span><br><span class="line">let { type, value, name} = myObj</span><br><span class="line">console.log(type)  //</span><br><span class="line">console.log(value) //</span><br><span class="line">console.log(name)  // undefined</span><br></pre></td></tr></tbody></table>

> 如果使用var、let、const解构声明变量，必须要提供初始化程序（也就是等号右侧的值），否则会导致程序抛出语法错误

* * *

> 解构出来的变量 一定要是 对象中能够查找到的属性名 当指定的属性不存在时，可以随意定义一个默认值，在属性名称后添加一个等号(=)和相应的默认值即可 (直接定义个默认值)  
> 如果解构出来的属性在对象中查找不到，值为undefined

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let  myObj = {</span><br><span class="line">    type:'name',</span><br><span class="line">    value:'yongge'</span><br><span class="line">}</span><br><span class="line">let { type, value, name='姓名'} = myObj</span><br><span class="line">console.log(type)  //</span><br><span class="line">console.log(value) //</span><br><span class="line">console.log(name)  //  姓名</span><br></pre></td></tr></tbody></table>

* * *

> 解构出来的变量虽然是跟属性名称相同，但是他不再是属性，而是外部的变量，这个变量名也可以被修改， 不一定要跟属性同名  
> 上面的都是同名的变量 为非同名局部变量赋值  
> 假如想要换个变量 右边 大括号里面 重新申明下 xx:oo 旧的名称 : 新的名称

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let  myObj = {</span><br><span class="line">    type:'name',</span><br><span class="line">    value:'yongge'</span><br><span class="line">}</span><br><span class="line">let { type:localType, value:localTValue} = myObj</span><br><span class="line">console.log(localType)  //</span><br><span class="line">console.log(localTValue) //</span><br></pre></td></tr></tbody></table>

#### [](#嵌套对象解构 "嵌套对象解构")嵌套对象解构

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">let myObj = {</span><br><span class="line">    type:'name',</span><br><span class="line">    value:'yongge',</span><br><span class="line">    child:{</span><br><span class="line">        firstObj:{</span><br><span class="line">            childType:'sex',</span><br><span class="line">            childValue:'nan'</span><br><span class="line">        },</span><br><span class="line">        secondObj:{</span><br><span class="line">            childType:'sex',</span><br><span class="line">            childValue:'nv'</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">let {child:{firstObj:newObj}} = myObj</span><br><span class="line">console.log(newObj)  //</span><br></pre></td></tr></tbody></table>

> 先找一层 在进一层找 可以 点 属性获取值

#### [](#数组解构 "数组解构")数组解构

> 为需要的元素提供变量名

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let colors = ['red','green','blue']</span><br><span class="line">let [firstColor,secondColor] = colors;</span><br><span class="line">console.log(firstColor);//"red"</span><br><span class="line">console.log(secondColor);//"green"</span><br><span class="line"></span><br><span class="line">对于不需要的解构的值</span><br><span class="line"></span><br><span class="line">let [ , ,thirdColor] = colors</span><br><span class="line">console.log(thirdColor);</span><br></pre></td></tr></tbody></table>

> 如果我们先声明了变量，之后也可以直接通过解构赋值修改变量的值。

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let colors = ['red','green','blue'],firstColor = 'black',secondColor = 'yellow';</span><br><span class="line">[firstColor,secondColor] = colors;</span><br><span class="line"></span><br><span class="line">console.log(firstColor);//"red"</span><br><span class="line">console.log(secondColor);//"green"</span><br></pre></td></tr></tbody></table>

> 可以在数组解构赋值表达式中为任意变量添加默认值。注意：：：：只有当该位置在右侧数组中的值不存在时或值为undefined时，默认值才会生效。

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let colors = ['red','green','blue'];</span><br><span class="line">[firstColor,secondColor,thirdColor='orange'] = colors;</span><br><span class="line"></span><br><span class="line">console.log(firstColor);//""</span><br><span class="line">console.log(secondColor);//""</span><br><span class="line">console.log(thirdColor);//""</span><br></pre></td></tr></tbody></table>

#### [](#嵌套数组解构赋值 "嵌套数组解构赋值")嵌套数组解构赋值

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ 10, [ 20, 30 ], 40 ];</span><br><span class="line">console.log( arr[1][1] ); //30</span><br><span class="line"></span><br><span class="line">let [ one, two, three, four ] = arr;</span><br><span class="line">console.log( one, two, three, four ); //</span><br><span class="line"></span><br><span class="line">[ one, [ two, three ], four ] = arr; //</span><br><span class="line">console.log( one, two, three, four ); //10 20 30 40</span><br></pre></td></tr></tbody></table>

#### [](#字符串的解构赋值 "字符串的解构赋值")字符串的解构赋值

> 字符串也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const [a, b, c, d, e] = 'hello';</span><br><span class="line">a // "h"</span><br><span class="line">b // "e"</span><br><span class="line">c // "l"</span><br><span class="line">d // "l"</span><br><span class="line">e // "o"</span><br></pre></td></tr></tbody></table>

> 类似数组的对象都有一个length属性，因此还可以对这个属性解构赋值

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let {length : len} = 'hello';</span><br><span class="line">len // 5</span><br></pre></td></tr></tbody></table>

#### [](#数值和布尔值的解构赋值 "数值和布尔值的解构赋值")数值和布尔值的解构赋值

> 解构赋值时，如果等号右边是数值和布尔值，则会先转为对象。  
> 
> <table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let {toString: s} = 123;</span><br><span class="line">s === Number.prototype.toString // true</span><br><span class="line"></span><br><span class="line">let {toString: s} = true;</span><br><span class="line">s === Boolean.prototype.toString // true</span><br></pre></td></tr></tbody></table>

> 上面代码中，数值和布尔值的包装对象都有toString属性，因此变量s都能取到值。

> 解构赋值的规则是，只要等号右边的值不是对象，就先将其转为对象。由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错。

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let { prop: x } = undefined; // TypeError</span><br><span class="line">let { prop: y } = null; // TypeError</span><br></pre></td></tr></tbody></table>

#### [](#解构交换变量值 "解构交换变量值")解构交换变量值

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a =10 , b = 8;</span><br><span class="line">[a,b]=[b,a]</span><br><span class="line">console.log(a,b)</span><br></pre></td></tr></tbody></table>

#### [](#解构中的不定参数-… "解构中的不定参数(…)")解构中的不定参数(…)

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr =[10,20,30]</span><br><span class="line">let [first,...others ] = arr</span><br><span class="line">console.log(first,others)</span><br></pre></td></tr></tbody></table>

> 复制数组

ES5  

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ 10, 20, 30 ];</span><br><span class="line">let newArr = arr.concat();</span><br><span class="line">console.log( newArr );</span><br></pre></td></tr></tbody></table>

> 用解构与不定参数结合 复制 数组

ES6

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [ 10, 20, 30 ];</span><br><span class="line">let [...newArr] = arr;</span><br><span class="line">console.log( newArr );</span><br></pre></td></tr></tbody></table>

#### [](#解构表达式传参 "解构表达式传参")解构表达式传参

> 方法 可以接受 解构表达式

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function show ({name,age}){</span><br><span class="line">    console.log(name,age)</span><br><span class="line">}</span><br><span class="line">let obj = {</span><br><span class="line">    name:'yongge',</span><br><span class="line">    age:'28'</span><br><span class="line">}</span><br><span class="line">show (obj)    //函数里面可以写成表达式 {name，age} = obj</span><br><span class="line"></span><br><span class="line">function add([x, y]){</span><br><span class="line">return x + y;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">add([1, 2]); // 3</span><br></pre></td></tr></tbody></table>

> 函数show,add的参数表面上是一个数组，但在传入参数的那一刻，数组参数就被解构成变量x和y。对于函数内部的代码来说，它们能感受到的参数就是x和y。